---
id: brace-expansion-ii
title: 1096.花括号展开 II
---
如果你熟悉 Shell 编程，那么一定了解过花括号展开，它可以用来生成任意字符串。

花括号展开的表达式可以看作一个由 **花括号**、**逗号** 和 **小写英文字母** 组成的字符串，定义下面几条语法规则：


- 如果只给出单一的元素 <code>x</code>，那么表达式表示的字符串就只有 <code>&#34;x&#34;</code>。<code>R(x) = &#123;x&#125;</code>
  - 例如，表达式 <code>&#123;&#34;a&#34;&#125;</code> 表示字符串 <code>&#34;a&#34;</code>。
  - 而表达式 <code>&#123;&#34;w&#34;&#125;</code> 就表示字符串 <code>&#34;w&#34;</code>。
- 当两个或多个表达式并列，以逗号分隔时，我们取这些表达式中元素的并集。<code>R(&#123;e_1,e_2,...&#125;) = R(e_1) ∪ R(e_2) ∪ ...</code>
  - 例如，表达式 <code>&#34;&#123;a,b,c&#125;&#34;</code> 表示字符串 <code>&#34;a&#34;,&#34;b&#34;,&#34;c&#34;</code>。
  - 而表达式 <code>&#34;&#123;&#123;a,b&#125;,&#123;b,c&#125;&#125;&#34;</code> 也可以表示字符串 <code>&#34;a&#34;,&#34;b&#34;,&#34;c&#34;</code>。
- 要是两个或多个表达式相接，中间没有隔开时，我们从这些表达式中各取一个元素依次连接形成字符串。<code>R(e_1 + e_2) = &#123;a + b for (a, b) in R(e_1) × R(e_2)&#125;</code>
  - 例如，表达式 <code>&#34;&#123;a,b&#125;&#123;c,d&#125;&#34;</code> 表示字符串 <code>&#34;ac&#34;,&#34;ad&#34;,&#34;bc&#34;,&#34;bd&#34;</code>。
- 表达式之间允许嵌套，单一元素与表达式的连接也是允许的。
  - 例如，表达式 <code>&#34;a&#123;b,c,d&#125;&#34;</code> 表示字符串 <code>&#34;ab&#34;,&#34;ac&#34;,&#34;ad&#34;​​​​​​</code>。
  - 例如，表达式 <code>&#34;a&#123;b,c&#125;&#125;&#123;&#123;d,e&#125;f&#123;g,h&#125;&#34;</code> 可以表示字符串 <code>&#34;abdfg&#34;, &#34;abdfh&#34;, &#34;abefg&#34;, &#34;abefh&#34;, &#34;acdfg&#34;, &#34;acdfh&#34;, &#34;acefg&#34;, &#34;acefh&#34;</code>。

给出表示基于给定语法规则的表达式 <code>expression</code>，返回它所表示的所有字符串组成的有序列表。

假如你希望以「集合」的概念了解此题，也可以通过点击 “**显示英文描述**” 获取详情。

 

**示例 1：**


<pre><strong>输入：</strong>&#34;&#123;a,b&#125;&#123;c,&#123;d,e&#125;&#125;&#34;<br/><strong>输出：</strong>[&#34;ac&#34;,&#34;ad&#34;,&#34;ae&#34;,&#34;bc&#34;,&#34;bd&#34;,&#34;be&#34;]</pre>

**示例 2：**


<pre><strong>输入：</strong>&#34;&#123;&#123;a,z&#125;,a&#123;b,c&#125;,&#123;ab,z&#125;&#125;&#34;<br/><strong>输出：</strong>[&#34;a&#34;,&#34;ab&#34;,&#34;ac&#34;,&#34;z&#34;]<br/><strong>解释：</strong>输出中 <strong>不应 </strong>出现重复的组合结果。<br/></pre>

 

**提示：**

- <code>1 &lt;= expression.length &lt;= 50</code>
- <code>expression[i]</code> 由 <code>&#39;&#123;&#39;</code>，<code>&#39;&#125;&#39;</code>，<code>&#39;,&#39;</code> 或小写英文字母组成
- 给出的表达式 <code>expression</code> 用以表示一组基于题目描述中语法构造的字符串